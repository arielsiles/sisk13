<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:c="http://java.sun.com/jstl/core"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:app="http://encens.com/products/khipus/facelets"
                template="/layout/template.xhtml">


<ui:define name="pageTitle">
    #{messages['Voucher.new']}
</ui:define>

<ui:param name="bodyAlign" value="center"/>
<ui:param name="bodyWidth" value="100%"/>

<ui:param name="selectedTab" value="customers"/>
<ui:define name="body">

<c:set var="selectList" value="#{voucherDocumentTypeList}"/>
<c:set var="isEnabledSpecialOperations" value="#{s:hasPermission('WAREHOUSESPECIALOPERATIONS','VIEW')}"/>
<c:set var="mainComponentIdsToRerender" value="documentTypeField,
                                               movementDetailListPanel,
                                               cashAccountListModalPanelDiv"/>

<c:set var="movementDetailRowsToRefresh" value="productItemField, measureUnitField, unitCostField, quantityField, amountField"/>

<h:form id="warehouseVoucherForm">

    <rich:panel id="formPanel">
    <f:facet name="header">V E N T A S</f:facet>
        <h:panelGrid columns="3" border="0" width="100%" styleClass="left">
            <s:div id="part1">
                <s:decorate id="cashAccountField" template="/include/inputField.xhtml" styleClass="formRow">
                    <!--<ui:param name="required" value="#{true}"/>-->
                    <ui:define name="label"><h:outputText value="Producto:"/></ui:define>
                    <h:inputText styleClass="input250" />
                    <!--<app:suggestionBox id="payableAccountSuggestionBox"
                                       value="#{providerEntity.payableAccountFullName}"
                                       entity="#{providerEntity.payableAccount}"
                                       styleClass="inputLarge"
                                       entityAlias="payableAccount"
                                       searchField="fullName"
                                       searchCompoundFields="payableAccount.accountCode,payableAccount.description"
                                       searchCompoundCondition="concat(concat(payableAccount.accountCode,' - '),payableAccount.description)"
                                       updateFocusOnSelect="true">
                        <ui:define name="columns">
                            <h:column>
                                <h:outputText value="#{entityItem.fullName}"/>
                            </h:column>
                        </ui:define>
                        <ui:define name="restrictions">
                            <app:restriction condition="payableAccount.active = #{true}"/>
                            <app:restriction condition="payableAccount.movementAccount = #{true}"/>
                        </ui:define>
                    </app:suggestionBox>-->

                    <a4j:commandButton action="#{voucherAction.search}"
                                       reRender="voucherSearchPanelId, voucherList, dataScroller"
                                       styleClass="button"
                                       value="#{messages['Common.search']}"
                                       id="searchButtonId"
                                       tabindex="6">
                        <s:defaultAction/>
                    </a4j:commandButton>

                </s:decorate>

            </s:div>

            <s:div id="part2">
                <s:decorate id="clientField" template="/include/inputField.xhtml" styleClass="formRow">
                    <ui:define name="label"><h:outputText value="#{messages['Client.client']}"/></ui:define>
                    <app:selectPopUp id="clientFieldId"
                                     required="false"
                                     textValue="#{voucherCreateAction.client.fullName}"
                                     value="#{voucherCreateAction.client}"
                                     clearAction="voucherCreateAction.clearClient()"
                                     searchModalPanel="clientListModalPanel"
                                     dataModel="#{clientDataModel}"
                                     reRender="clientField"
                                     tabindex="12">
                    </app:selectPopUp>
                </s:decorate>
            </s:div>

            <s:div id="part3">
                <s:decorate id="dateField" template="/include/inputField.xhtml" styleClass="formRow">
                    <!--<ui:define name="label">#{messages['Voucher.date']}</ui:define>-->
                    <rich:calendar value="#{voucherCreateAction.voucher.date}"
                                   popup="true"
                                   datePattern="#{messages['patterns.date']}"
                                   styleClass="input"
                                   enableManualInput="true"
                                   tabindex="1"
                                   required="false">
                        <f:convertDateTime pattern="#{messages['patterns.date']}" timeZone="#{sessionUser.timeZone}" type="date"/>
                    </rich:calendar>
                </s:decorate>
            </s:div>

        </h:panelGrid>

        <h:panelGrid columns="14">
            <h:selectOneMenu>
                <f:selectItem itemValue="0" itemLabel="Normal" />
                <f:selectItem itemValue="1" itemLabel="Degustacion" />
                <f:selectItem itemValue="2" itemLabel="Refrigerio" />
                <f:selectItem itemValue="3" itemLabel="Descontar Productores" />
                <f:selectItem itemValue="4" itemLabel="Descontar Veterinarios " />
            </h:selectOneMenu>

            <h:commandButton value="LUHT 950" styleClass="button" />
            <h:commandButton value="CHI 1L" styleClass="button" />
            <h:commandButton value="CHI 160" styleClass="button" />
            <h:commandButton value="YFR 80" styleClass="button" />
            <h:commandButton value="YFR 2L" styleClass="button" />
            <h:commandButton value="YDU 2L" styleClass="button" />
            <h:commandButton value="YCO 2L" styleClass="button" />
            <h:commandButton value="YMO 2L" styleClass="button" />
            <h:commandButton value="YCH 2L" styleClass="button" />
            <h:commandButton value="ILDU 120" styleClass="button" />
            <h:commandButton value="ILMA 120" styleClass="button" />
            <h:commandButton value="ILNA 120" styleClass="button" />
            <h:commandButton value="ILPI 120" styleClass="button" />

        </h:panelGrid>

        <h:panelGrid columns="4">

        </h:panelGrid>
    </rich:panel>

    <div class="buttonsRight">
        <a4j:commandButton id="addProductItemCommandButton"
                           action="#{provideSearchDataModel.reset()}"
                           value="#{messages['PurchaseOrderDetail.button.addProductItem']}"
                           styleClass="button"
                           immediate="true"
                           oncomplete="Richfaces.showModalPanel('confirmSalesModalPanelModalPanel');"
                           actionListener="#{selectPopUpAction.select}"
                           reRender="confirmSalesModalPanelModalPanel">
            <f:attribute name="entityManagerName" value=""/>
            <f:attribute name="dataModelObject" value="#{provideSearchDataModel}"/>
            <app:criteriaValue fieldName="providerCode"
                               value="#{warehousePurchaseOrderAction.purchaseOrder.provider.id.providerCode}"/>
        </a4j:commandButton>

        <a4j:commandButton id="chargeButtonId" value="Cobrar"

                           styleClass="button"
                           tabindex="6">
            <s:defaultAction/>
        </a4j:commandButton>
        <a4j:commandButton id="registerButtonId" value="Registrar"
                           styleClass="button"
                           tabindex="6">
            <s:defaultAction/>
        </a4j:commandButton>
    </div>

    <rich:panel id="panelProdutcs">
        <table cellpadding="0" cellspacing="0" border="0" width="100%" class="rich-table">
            <thead class="rich-table-thead">
            <tr class="rich-table-header">
                <th class="rich-table-headercell" width="5%">Cod</th>
                <th class="rich-table-headercell" width="30%">Descripción</th>
                <th class="rich-table-headercell" width="10%">Precio</th>
                <th class="rich-table-headercell" width="10%">Cantidad</th>
                <th class="rich-table-headercell" width="10%">Importe</th>
                <th class="rich-table-headercell" width="10%">Existencia</th>
                <th class="rich-table-headercell" width="10%">Promo</th>
                <th class="rich-table-headercell" width="10%">Repos</th>
                <th class="rich-table-headercell" width="5%">Acción</th>
            </tr>
            </thead>

            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="LECHE NATURAL UHT 950 ML" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="CHICOTRON 1LT" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="YOGURT SACHET FRUTILLA 80ML" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="YOGURT CHIRIMOYA 2LT" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="YOGURT DURAZNO 2LT" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <!---->
            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="YOGURT DURAZNO 2LT" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="YOGURT DURAZNO 2LT" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="YOGURT DURAZNO 2LT" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="YOGURT DURAZNO 2LT" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="YOGURT DURAZNO 2LT" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <tr class="rich-table-row">
                <td class="rich-table-cell" align="center"><h:outputText value="10" /></td>
                <td class="rich-table-cell"><h:outputText value="YOGURT DURAZNO 2LT" /></td>
                <td class="rich-table-cell" align="center"><h:outputText value="5.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="100" styleClass="inputSmall" /></td>
                <td class="rich-table-cell"><h:outputText value="500.00" /></td>
                <td class="rich-table-cell"><h:outputText value="8.500.00" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="10" styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center"><h:inputText value="5"  styleClass="inputTiny" /></td>
                <td class="rich-table-cell" align="center">
                    <a4j:commandLink immediate="true" title="#{messages['Common.remove']}">
                        <h:graphicImage value="/img/clear.jpg" styleClass="select-image-middle"/>
                    </a4j:commandLink>
                </td>
            </tr>
            <tr class="rich-table-row" style="background-color: azure">
                <td class="rich-table-cell" align="center"></td>
                <td class="rich-table-cell" align="center"></td>
                <td class="rich-table-cell" align="center"></td>
                <td class="rich-table-cell" align="center"></td>
                <td class="rich-table-cell" align="center">15,000.00</td>
                <td class="rich-table-cell" align="center"></td>
                <td class="rich-table-cell" align="center"></td>
                <td class="rich-table-cell" align="center"></td>
                <td class="rich-table-cell" align="center"></td>
            </tr>

        </table>
    </rich:panel>

<div class="buttons"></div>
</h:form>

    <s:div id="clientListModalPanelDiv">
        <s:decorate id="clientListModalPanelContainer" template="/finances/clientListModalPanel.xhtml">
            <ui:param name="containerId" value="clientListModalPanelContainer"/>
            <ui:param name="dialogId" value="clientListModalPanel"/>
            <ui:define name="assignButton">
                <a4j:commandButton id="assignButton"
                                   action="#{voucherCreateAction.setClient(clientItem)}"
                                   image="/img/active.gif"
                                   styleClass="select-image-middle"
                                   reRender="clientField"
                                   oncomplete="Richfaces.hideModalPanel('clientListModalPanel');"/>
            </ui:define>
        </s:decorate>
    </s:div>

    <s:decorate id="confirmSalesModalPanelModalPanelContainer"
                template="/customers/confirmSalesModalPanel.xhtml">
        <ui:param name="containerId" value="confirmSalesModalPanelModalPanelContainer"/>
        <ui:param name="dialogId" value="confirmSalesModalPanelModalPanel"/>
        <ui:define name="addButton">
            <a4j:commandButton id="addButton"
                               immediate="true"
                               ajaxSingle="true"
                               action="#{warehousePurchaseOrderDetailListCreateAction.addProductItems(provideSearchDataModel.selectedProductItems)}"
                               value="#{messages['Common.add']}"
                               reRender="purchaseOrderDetailsPanel"
                               styleClass="button"
                               oncomplete="Richfaces.hideModalPanel('confirmSalesModalPanelModalPanel');"/>
        </ui:define>
    </s:decorate>

<!---->


<!--Set selector Id to enable focus-->
<rich:jQuery selector="#documentTypeSearch" query="focus()" timing="onload"/>
</ui:define>
</ui:composition>
