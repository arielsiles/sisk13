<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:a4j="http://richfaces.org/a4j"
                xmlns:rich="http://richfaces.org/rich"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:app="http://encens.com/products/khipus/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:s="http://jboss.com/products/seam/taglib"
                xmlns:c="http://java.sun.com/jstl/core">
    <a4j:region renderRegionOnly="true">
        <!--fixed assets corresponding to the fixed asset voucher-->
        #{fixedAssetDataModel.updateAndSearch()}
        <rich:dataTable value="#{fixedAssetDataModel}" var="fixedAssetItem" id="approvedFixedAssetList"
                        rows="#{sessionUser.rowsPerPage}"
                        width="100%"
                        columnsWidth="5%,5%,7%,7%,7%,7%,7%,7%,7%,7%,7%,7%,7%,7%,5%">
            <f:facet name="header">
                <rich:columnGroup>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.fixedAssetSubGroup.id.fixedAssetGroupCode"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAssetGroup.group']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader
                                sortProperty="fixedAsset.fixedAssetSubGroup.id.fixedAssetSubGroupCode"
                                dataModel="#{fixedAssetDataModel}"
                                reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.fixedAssetSubGroup']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.barCode"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.barCode']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.detail"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.detail']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.measurement"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.measurement']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.description"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.description']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.registrationDate"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetByPurchaseOrderList, dataScroller">
                            #{messages['FixedAsset.registrationDate']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.trademark"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.trademark']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.model"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.model']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.sequence"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.sequence']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.duration"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.duration']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.monthsGuaranty"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.monthsGuaranty']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.depreciationRate"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.depreciationRate']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.rubbish"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.rubbish']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.ufvOriginalValue"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.originalValue']}
                        </app:commandSortHeader>
                    </rich:column>
                    <rich:column>
                        <app:commandSortHeader sortProperty="fixedAsset.state"
                                               dataModel="#{fixedAssetDataModel}"
                                               reRender="fixedAssetList, dataScroller">
                            #{messages['FixedAsset.state']}
                        </app:commandSortHeader>
                    </rich:column>
                </rich:columnGroup>
            </f:facet>
            <rich:column>
                <h:outputText value="#{fixedAssetItem.fixedAssetSubGroup.fixedAssetGroup.fullName}">
                </h:outputText>
            </rich:column>
            <rich:column>
                <h:outputText value="#{fixedAssetItem.fixedAssetSubGroup.fullName}">
                </h:outputText>
            </rich:column>
            <rich:column>
                <h:outputText value="#{fixedAssetItem.barCode}">
                </h:outputText>
            </rich:column>
            <rich:column>
                <h:outputText value="#{fixedAssetItem.detail}">
                </h:outputText>
            </rich:column>
            <rich:column>
                <h:outputText value="#{fixedAssetItem.measurement}"
                              styleClass="input textarea">
                </h:outputText>
            </rich:column>
            <rich:column>
                <h:outputText value="#{fixedAssetItem.description}"
                              styleClass="input textarea">
                </h:outputText>
            </rich:column>
            <rich:column>
                <h:outputText value="#{fixedAssetItem.registrationDate}">
                    <f:convertDateTime pattern="#{messages['patterns.date']}" timeZone="#{sessionUser.timeZone}"
                                   type="date"/>
                </h:outputText>
            </rich:column>
            <rich:column>
                <h:outputText value="#{fixedAssetItem.trademark}">
                </h:outputText>
            </rich:column>
            <rich:column>
                <h:outputText value="#{fixedAssetItem.model}">
                </h:outputText>
            </rich:column>
            <rich:column>
                <h:outputText value="#{fixedAssetItem.sequence}">
                </h:outputText>
            </rich:column>
            <rich:column styleClass="right">
                <h:outputText value="#{fixedAssetItem.duration}">
                    <app:naturalNumberConverter pattern="#{messages['patterns.integerNumber']}"/>
                </h:outputText>
                <h:outputText rendered="#{not empty fixedAssetItem.monthsGuaranty}"
                              value=" #{messages['Unit.month']}"/>
            </rich:column>
            <rich:column styleClass="right">
                <h:outputText value="#{fixedAssetItem.monthsGuaranty}">
                    <app:naturalNumberConverter pattern="#{messages['patterns.integerNumber']}"/>
                </h:outputText>
                <h:outputText rendered="#{not empty fixedAssetItem.monthsGuaranty}"
                              value=" #{messages['Unit.month']}"/>
            </rich:column>
            <rich:column styleClass="right">
                <h:outputText value="#{fixedAssetItem.depreciationRate}">
                    <app:realNumberConverter pattern="#{messages['patterns.decimalNumber']}"/>
                </h:outputText>
                <h:outputText value=" #{messages['Unit.percentage']}"/>
            </rich:column>
            <rich:column styleClass="right">
                <h:outputText value="#{fixedAssetItem.rubbish}">
                    <app:realNumberConverter pattern="#{messages['patterns.decimalNumber']}"/>
                </h:outputText>
                <h:outputText value=" #{messages['Currency.Ufv']}"/>
            </rich:column>
            <rich:column styleClass="right">
                <h:outputText value="#{fixedAssetItem.ufvOriginalValue}">
                    <app:realNumberConverter pattern="#{messages['patterns.decimalNumber']}"/>
                </h:outputText>
                <h:outputText value=" #{messages[fixedAssetItem.currencyType.resourceKey]}">
                </h:outputText>
            </rich:column>
            <rich:column>
                <h:outputText value="#{messages[fixedAssetItem.state.resourceKey]}">
                </h:outputText>
            </rich:column>
        </rich:dataTable>
        <app:dataScroller id="approvedDataScroller" for="approvedFixedAssetList"
                          dataModel="#{fixedAssetDataModel}"/>
    </a4j:region>
</ui:composition>